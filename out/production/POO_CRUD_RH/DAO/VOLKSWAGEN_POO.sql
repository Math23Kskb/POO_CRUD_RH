
DROP TABLE FUNCIONARIO_HAS_PROJETO;
DROP TABLE DEPARTAMENTO;
DROP TABLE FUNCIONARIO;
DROP TABLE PROJETO;

-- MySQL Script generated by MySQL Workbench
-- 05/16/24 22:07:42
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`DEPARTAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DEPARTAMENTO` (
  `COD_DEP` INT(3) NOT NULL AUTO_INCREMENT,
  `CNPJ` VARCHAR(14) NOT NULL,
  `NOME` VARCHAR(45) NOT NULL,
  `ENDERECO` VARCHAR(45) NOT NULL,
  `DDD` INT(2) NOT NULL,
  `TELEFONE` INT NOT NULL,
  PRIMARY KEY (`COD_DEP`),
  UNIQUE INDEX `CNPJ_UNIQUE` (`CNPJ` ASC),
  UNIQUE INDEX `COD_DEP_UNIQUE` (`COD_DEP` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FUNCIONARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FUNCIONARIO` (
  `COD_FUNC` INT NOT NULL AUTO_INCREMENT,
  `CPF` VARCHAR(11) NOT NULL,
  `PRIMEIRO_NOME` VARCHAR(45) NOT NULL,
  `ULTIMO_NOME` VARCHAR(45) NOT NULL,
  `ENDERECO_FUNC` VARCHAR(45) NOT NULL,
  `DATA_NASC` DATE NOT NULL,
  `DDD` INT NOT NULL,
  `TELEFONE` INT NOT NULL,
  `DEPARTAMENTO_COD_DEP` INT NOT NULL,
  PRIMARY KEY (`COD_FUNC`, `DEPARTAMENTO_COD_DEP`),
  UNIQUE INDEX `CPF_UNIQUE` (`CPF` ASC),
  UNIQUE INDEX `COD_FUNC_UNIQUE` (`COD_FUNC` ASC),
  INDEX `fk_FUNCIONARIO_DEPARTAMENTO_idx` (`DEPARTAMENTO_COD_DEP` ASC),
  CONSTRAINT `fk_FUNCIONARIO_DEPARTAMENTO`
    FOREIGN KEY (`DEPARTAMENTO_COD_DEP`)
    REFERENCES `mydb`.`DEPARTAMENTO` (`COD_DEP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PROJETO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PROJETO` (
  `COD_PROJ` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NOT NULL,
  `DATA_INICIO` DATETIME NOT NULL,
  `DATA_FIM` DATETIME NOT NULL,
  PRIMARY KEY (`COD_PROJ`),
  UNIQUE INDEX `COD_PROJ_UNIQUE` (`COD_PROJ` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FUNCIONARIO_has_PROJETO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FUNCIONARIO_has_PROJETO` (
  `FUNCIONARIO_COD_FUNC` INT NOT NULL,
  `FUNCIONARIO_DEPARTAMENTO_COD_DEP` INT NOT NULL,
  `PROJETO_COD_PROJ` INT NOT NULL,
  PRIMARY KEY (`FUNCIONARIO_COD_FUNC`, `FUNCIONARIO_DEPARTAMENTO_COD_DEP`, `PROJETO_COD_PROJ`),
  INDEX `fk_FUNCIONARIO_has_PROJETO_PROJETO1_idx` (`PROJETO_COD_PROJ` ASC),
  INDEX `fk_FUNCIONARIO_has_PROJETO_FUNCIONARIO1_idx` (`FUNCIONARIO_COD_FUNC` ASC, `FUNCIONARIO_DEPARTAMENTO_COD_DEP` ASC),
  CONSTRAINT `fk_FUNCIONARIO_has_PROJETO_FUNCIONARIO1`
    FOREIGN KEY (`FUNCIONARIO_COD_FUNC` , `FUNCIONARIO_DEPARTAMENTO_COD_DEP`)
    REFERENCES `mydb`.`FUNCIONARIO` (`COD_FUNC` , `DEPARTAMENTO_COD_DEP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FUNCIONARIO_has_PROJETO_PROJETO1`
    FOREIGN KEY (`PROJETO_COD_PROJ`)
    REFERENCES `mydb`.`PROJETO` (`COD_PROJ`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


USE mydb;


INSERT INTO DEPARTAMENTO (COD_DEP, CNPJ, NOME, ENDERECO, DDD, TELEFONE) VALUES
    (1, '12345678000101', 'Recursos Humanos', 'Avenida Central, 1000', 11, 987654321);

-- Insere 42 registros de exemplo na tabela DEPARTAMENTO
INSERT INTO DEPARTAMENTO (CNPJ, NOME, ENDERECO, DDD, TELEFONE) VALUES
    ('98765432000199', 'Financeiro', 'Rua das Flores, 200', 21, 876543210),
    ('28374659000185', 'Marketing', 'Rua do Comercio, 400', 41, 654321098),
    ('37485926000194', 'Vendas', 'Avenida do Contorno, 500', 51, 543210987),
    ('46597014000103', 'Operacoes', 'Praca das Industrias, 600', 61, 432109876),
    ('56708123000112', 'Pesquisa e Desenvolvimento', 'Rua da Inovacao, 700', 71, 321098765),
    ('67819234000121', 'Logistica', 'Avenida do Transporte, 800', 81, 210987654),
    ('78920345000130', 'Juridico', 'Rua da Justica, 900', 91, 109876543),
    ('89031456000149', 'Compras', 'Rua do Comercio, 1000', 12, 998877665);
    
    
-- Insere registros na tabela FUNCIONARIO
INSERT INTO FUNCIONARIO 
    (CPF, PRIMEIRO_NOME, ULTIMO_NOME, ENDERECO_FUNC, DATA_NASC, DDD, TELEFONE, DEPARTAMENTO_COD_DEP) 
VALUES
    ('98765432100', 'Maria', 'Oliveira', 'Rua B, 456', '1985-02-02', 21, 987654321, 1),
    ('12345678900', 'João', 'Silva', 'Rua A, 123', '1990-01-01', 11, 123456789, 1),
    ('11122233344', 'Carlos', 'Pereira', 'Rua C, 789', '1978-03-03', 31, 234567890, 2),
    ('55566677788', 'Ana', 'Souza', 'Rua D, 321', '1982-04-04', 41, 345678901, 2),
    ('99988877766', 'Paula', 'Moura', 'Rua E, 654', '1995-05-05', 51, 456789012, 3),
    ('22233344455', 'Lucas', 'Ferreira', 'Avenida X, 789', '1988-06-06', 31, 567890123, 3),
    ('33344455566', 'Gabriela', 'Santos', 'Rua Y, 101', '1992-07-07', 11, 678901234, 4),
    ('44455566677', 'Felipe', 'Mendes', 'Avenida Z, 102', '1985-08-08', 21, 789012345, 4),
    ('55566677701', 'Amanda', 'Costa', 'Rua W, 103', '1991-09-09', 41, 890123456, 5),
    ('66677788823', 'Ricardo', 'Lima', 'Avenida V, 104', '1980-10-10', 51, 901234567, 5),
    ('77788899945', 'Fernanda', 'Ribeiro', 'Rua U, 105', '1993-11-11', 61, 012345678, 6),
    ('88899900067', 'Marcos', 'Alves', 'Avenida T, 106', '1984-12-12', 71, 123456789, 6),
    ('99900011189', 'Patrícia', 'Martins', 'Rua S, 107', '1996-01-13', 81, 234567890, 7),
    ('00011122210', 'Sérgio', 'Barros', 'Avenida R, 108', '1981-02-14', 91, 345678901, 7),
    ('11122233313', 'Juliana', 'Carvalho', 'Rua Q, 109', '1997-03-15', 8, 456789012, 8),
    ('22233344416', 'André', 'Silveira', 'Avenida P, 110', '1983-04-16', 22, 567890123, 8),
    ('33344455519', 'Beatriz', 'Pinto', 'Rua O, 111', '1986-05-17', 32, 678901234, 9),
    ('44455566621', 'Roberto', 'Melo', 'Avenida N, 112', '1998-06-18', 42, 789012345, 9),
    ('55566677724', 'Carla', 'Gomes', 'Rua M, 113', '1982-07-19', 52, 890123456, 1),
    ('66677788827', 'Fernando', 'Rodrigues', 'Avenida L, 114', '1994-08-20', 62, 901234567, 3),
    ('77788899934', 'Vanessa', 'Ferreira', 'Rua K, 115', '1989-09-21', 72, 012345678, 5),
    ('88899900038', 'Gustavo', 'Almeida', 'Avenida J, 116', '1991-10-22', 82, 123456789, 7),
    ('99900011142', 'Renata', 'Pereira', 'Rua I, 117', '1995-11-23', 92, 234567890, 9),
    ('00011122247', 'Thiago', 'Nunes', 'Avenida H, 118', '1988-12-24', 13, 345678901, 2),
    ('11122233352', 'Débora', 'Oliveira', 'Rua G, 119', '1993-01-25', 23, 456789012, 4),
    ('22233344458', 'Júlio', 'Cardoso', 'Avenida F, 120', '1987-02-26', 33, 567890123, 6),
    ('33344455564','Larissa', 'Lopes', 'Rua E, 121', '1992-03-27', 43, 678901234, 8),
    ('44455566676', 'Maurício', 'Fernandes', 'Avenida D, 122', '1985-04-28', 53, 789012345, 5),
    ('55566677789', 'Tatiana', 'Macedo', 'Rua C, 123', '1990-05-29', 63, 890123456, 9),
    ('66677788899', 'Bruno', 'Santos', 'Avenida B, 124', '1996-06-30', 73, 901234567, 9),
    ('77788899900', 'Rafaela', 'Costa', 'Rua A, 125', '1983-07-31', 83, 012345678, 9),
    ('88899900011', 'Henrique', 'Gomes', 'Avenida Central, 126', '1991-08-01', 93, 123456789, 9),
    ('99900011122', 'Camila', 'Barbosa', 'Rua das Flores, 127', '1994-09-02', 14, 234567890, 9),
    ('01211122233', 'Rogério', 'Martins', 'Avenida do Comércio, 128', '1982-10-03', 24, 345678901, 9),
    ('34522233344', 'Priscila', 'Moura', 'Rua do Contorno, 129', '1990-11-04', 34, 456789012, 9),
    ('67833344455', 'Eduardo', 'Castro', 'Avenida das Indústrias, 130', '1985-12-05', 44, 567890123, 9),
    ('90144455566', 'Marcelo', 'Melo', 'Rua da Inovação, 131', '1992-01-06', 54, 678901234, 9);
    

SELECT COD_DEP, CNPJ FROM DEPARTAMENTO;

SELECT * FROM DEPARTAMENTO;
SELECT * FROM FUNCIONARIO;
SELECT * FROM FUNCIONARIO_HAS_PROJETO;
SELECT * FROM PROJETO;